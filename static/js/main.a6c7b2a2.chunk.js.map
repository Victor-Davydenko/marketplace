{"version":3,"sources":["functions/functions.js","store/store.js","components/header/header.js","components/footer/footer.js","components/LoginForm/LoginForm.js","pages/LoginPage/LoginPage.js","components/Preloader/Preloader.js","components/AllAds/AllAds.js","pages/AllAdsPage/AllAdsPage.js","components/OneAd/OneAd.js","pages/OneAdPage/OneAdPage.js","components/AdCreator/Uploader/Upload.js","components/User/User.js","components/AdCreator/AdCreator.js","pages/UserPage/UserPage.js","components/Main/Main.js","pages/MainPage/MainPage.js","components/RegistrationForm/RegistrationForm.js","pages/RegistrationPage/RegistrationPage.js","App.js","index.js"],"names":["getGQL","url","headers","query","variables","fetch","method","body","JSON","stringify","then","res","json","data","gql","Authorization","localStorage","authToken","d","obj","path","split","key","undefined","actionPromise","name","promise","dispatch","a","pendingAction","result","fullfilledAction","rejectedAction","authAction","token","type","logoutAction","status","payload","error","reducers","combineReducers","authReducer","state","action","jwt_decode","console","log","removeItem","promiseReducer","store","createStore","applyMiddleware","thunk","subscribe","getState","connect","s","logout","className","to","id","style","color","login","onClick","Footer","LoginForm","onLogin","onLogout","useState","setName","surName","setSurname","buttonState","setButtonState","regNumber","useEffect","toUpperCase","slice","length","search","placeholder","aria-describedby","value","onChange","e","target","disabled","mapDispatchToProps","CLoginPage","cn","sub","l","p","loginData","Fragment","LoginPage","Preloader","Ad","issued","Date","createdAt","toLocaleDateString","href","_id","title","images","src","alt","price","CAllAd","getData","fetchData","AdFind","map","ad","AllAdsPage","Comment","position","minWidth","marginRight","owner","nick","flexGrow","text","answers","answer","backgroundColor","oneAd","btnState","setBtnState","AdFindOne","ownerissued","pic","description","fontSize","fontWeight","adresses","phones","comments","margin","comment","answerTo","getOneAd","match","params","onUpload","form","FormData","formRef","useRef","encType","ref","current","User","avatarData","upload","dataId","changeUserInfo","addresses","avatar","input","setNick","phone","setPhone","address","setAddress","UserFindOne","Upload","imageData","createAd","setTitle","setDescription","setPrice","pics","push","maxLength","userId","getUser","Main","MainPage","RegistrationForm","onRegister","toLowerCase","dataReg","registration","reg","password","App","component","exact","RegistrationPage","OneAdPage","UserPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6c7b2a2.chunk.js","sourcesContent":["\r\n\r\nconst getGQL = (url, headers = {}) =>\r\n    (query = \"\", variables = {}) =>\r\n        fetch(url,\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                    ...headers\r\n                },\r\n                body: JSON.stringify({query, variables})\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => data.data)\r\n\r\n\r\nconst gql = getGQL('http://marketplace.asmer.fs.a-level.com.ua/graphql',{Authorization : \"Bearer \" + localStorage.authToken})\r\n\r\nlet d = ({1: path}, obj) => {\r\n    path = path.split('.')\r\n    for (let key of path) {\r\n        if (obj[key] !== undefined && obj[key] !== null ) {\r\n            obj = obj[key]\r\n        } else {\r\n            return undefined\r\n        }\r\n    }\r\n    return obj\r\n}\r\n\r\n\r\nexport  {gql, getGQL, d}","import {createStore, combineReducers, applyMiddleware} from 'redux';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport thunk from 'redux-thunk';\r\nimport { gql} from \"../functions/functions\";\r\n\r\nfunction actionPromise(name, promise){\r\n    return async dispatch => {\r\n        dispatch(pendingAction(name))\r\n        try {\r\n            let result = await promise\r\n            dispatch(fullfilledAction(name, result))\r\n            return result;\r\n        }\r\n        catch(e){\r\n            dispatch(rejectedAction(name, e))\r\n        }\r\n    }\r\n}\r\n\r\nconst authAction = (token)=>{\r\n    return {\r\n        type:'LOGGED',\r\n        token:token\r\n    }\r\n}\r\n\r\nconst registrationAction = (login, password)=>{\r\n    return actionPromise('registration',gql(`mutation reg{\r\n             createUser(login: \"${login}\", password: \"${password}\"){\r\n                _id\r\n                }\r\n             }`))\r\n}\r\n\r\nconst logoutAction = ()=>{\r\n    return {\r\n        type:'LOGOUT'\r\n    }\r\n}\r\n\r\nconst ActionAllAd = ()=>{\r\n    return actionPromise('allAd', gql(`query goods {\r\n            AdFind(query: \"[{},{\\\\\"sort\\\\\":[{\\\\\"_id\\\\\":-1}]}]\") {\r\n                _id, \r\n                title,\r\n                comments{\r\n                    _id,\r\n            \r\n                }, \r\n                description, \r\n                price,\r\n                createdAt,\r\n                images {\r\n                    _id,\r\n                    url\r\n                } \r\n                owner {\r\n                    _id,\r\n                    login,\r\n                    phones,\r\n                    createdAt    \r\n                }\r\n            }\r\n        }`))\r\n}\r\n\r\nconst actionGetOneAd = (id) => {\r\n    return actionPromise('oneAd', gql(`query goods{\r\n        AdFindOne(query: \"[{\\\\\"_id\\\\\": \\\\\"${id}\\\\\"}]\") {\r\n       \r\n            _id,\r\n            title,\r\n            description,\r\n            price,\r\n            comments{\r\n                answers{\r\n                    _id,\r\n                    text\r\n                    owner{\r\n                        login\r\n                    }\r\n                }\r\n                answerTo{\r\n                    _id,\r\n                    text\r\n                    owner{\r\n                    login\r\n                    }\r\n                }\r\n                _id,\r\n                text,\r\n               createdAt\r\n               owner{\r\n                    login,\r\n                    nick\r\n               }\r\n            }\r\n            images {\r\n            _id,\r\n            url,\r\n            },\r\n            createdAt,\r\n            owner {\r\n                _id,\r\n                login,\r\n                phones,\r\n                addresses,\r\n                createdAt\r\n            }\r\n        }\r\n    }`))\r\n}\r\n\r\nconst actionGetUser = (id) =>{\r\n    return actionPromise('User', gql(`query User{\r\n        UserFindOne(query: \"[{\\\\\"_id\\\\\": \\\\\"${id}\\\\\"}]\") {\r\n       \r\n            _id,\r\n            createdAt,\r\n            login,\r\n            phones,\r\n            addresses,\r\n            nick,\r\n            avatar{\r\n                _id,\r\n                url\r\n            },\r\n            incomings{\r\n                owner{\r\n                    _id\r\n                }\r\n            }\r\n          \r\n        }\r\n    }`))\r\n}\r\n\r\nconst actionCreateAd = (title,description,price,address,images)=>{\r\n    return actionPromise('CreateAd',gql(\r\n        `mutation createAd($input: AdInput!){\r\n            AdUpsert(ad: $input) {\r\n                _id,\r\n                title,\r\n                description,\r\n                price,\r\n                address,\r\n                images{\r\n                _id\r\n                }\r\n            }\r\n        }`, {input:{title: title, description: description, price: +price, address:address, images:images}})\r\n    )\r\n}\r\n\r\nconst actionUpload = (form)=>{\r\n    return actionPromise('upload',fetch('http://marketplace.asmer.fs.a-level.com.ua/upload', {\r\n        method: \"POST\",\r\n        headers: localStorage.authToken ? {Authorization: 'Bearer ' + localStorage.authToken} : {},\r\n        body: new FormData(form)\r\n    }).then(res=>res.json()))\r\n}\r\n\r\nconst actionChangeUserInfo = (id,nick,phones,addresses,avatar)=>{\r\n    return actionPromise('changeUserInfo',gql(`mutation updateUserInfo($input: UserInput){\r\n      UserUpsert(user: $input){\r\n        _id,\r\n        login\r\n      }\r\n    }`,{input: {_id:id,nick:nick,phones: phones, addresses: addresses,avatar:avatar}}))\r\n}\r\n\r\nconst pendingAction =(name)=>{\r\n    return{\r\n        type:'PROMISE',\r\n        status: \"pending\",\r\n        payload: null,\r\n        error: null,\r\n        name\r\n    }\r\n}\r\n\r\nconst fullfilledAction =(name, payload)=>{\r\n    return{\r\n\r\n        type:'PROMISE',\r\n        status: \"fulfilled\",\r\n        payload: payload,\r\n        error: null,\r\n        name\r\n\r\n    }\r\n}\r\n\r\nconst rejectedAction =(name,error)=>{\r\n    return{\r\n        type:'PROMISE',\r\n        status: 'rejected',\r\n        payload: null,\r\n        error: error,\r\n        name\r\n\r\n    }\r\n}\r\n\r\nconst authReducer =(state, action)=>{\r\n    if (state === undefined) {\r\n\r\n        return {\r\n            data:''\r\n        }\r\n\r\n    }\r\n    if(action.type ==='LOGGED'){\r\n        localStorage.authToken = action.token\r\n        return {\r\n            data: jwt_decode(action.token),\r\n            token:action.token\r\n        }\r\n    }\r\n    if(action.type === 'LOGOUT'){\r\n        console.log('logout')\r\n        localStorage.removeItem('authToken')\r\n        return {\r\n\r\n        }\r\n\r\n    }\r\n    return state\r\n}\r\n\r\n\r\nconst promiseReducer = (state={}, {type, name, status, payload, error})=>{\r\n\r\n    if (type === \"PROMISE\") {\r\n        return {\r\n            ...state, [name]:{\r\n                status,\r\n                payload,\r\n                error,\r\n            }\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nconst reducers = combineReducers({\r\n    authReducer,\r\n    promiseReducer,\r\n\r\n})\r\n\r\nconst store = createStore(reducers,applyMiddleware(thunk));\r\n\r\nstore.subscribe(() => console.log(store.getState()))\r\n\r\nif(localStorage.authToken) {\r\n    store.dispatch(authAction(localStorage.authToken))\r\n}\r\n\r\n\r\nexport {store, authAction,\r\n    logoutAction,\r\n    registrationAction,\r\n    pendingAction,\r\n    fullfilledAction,\r\n    rejectedAction,\r\n    ActionAllAd,\r\n    actionGetOneAd,\r\n    actionGetUser,\r\n    actionCreateAd,\r\n    actionPromise,\r\n    actionUpload,\r\n    actionChangeUserInfo}\r\n\r\n","import React from 'react';\r\nimport './header.scss';\r\nimport {Link} from \"react-router-dom\";\r\nimport {d, gql} from \"../../functions/functions\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutAction} from \"../../store/store\";\r\n\r\n\r\nconst Header = ({data,logout}) => {\r\n    console.log(data)\r\n    return (\r\n        <header className='header'>\r\n            <div className='wrapper'>\r\n                <strong className='logo'>\r\n                    {localStorage.authToken ? <Link to={'/allads'} className='logo_link'>\r\n                        <span>\r\n                        The best marketplace ever\r\n                        </span>\r\n                    </Link> : <Link to={'/'} className='logo_link'>\r\n                        <span>\r\n                        The best marketplace ever\r\n                        </span>\r\n                    </Link>}\r\n                </strong>\r\n                <div className='navigation d-flex justify-content-between align-items-center'>\r\n                    {localStorage.authToken ? <span>\r\n                        <Link to={'/singleUser/' + data.id} style={{color: 'FFF'}} className='profile_link btn btn-info btn-sm'>{data.login}</Link>\r\n                  </span> : <span>\r\n                       <Link to={'/login'} className='profile_link enter btn btn-info btn-sm'>Войти</Link>\r\n                  </span>}\r\n                    {localStorage.authToken ?\r\n                        <span>\r\n                           <Link to={'/singleUser/' + data.id} className='profile_link btn btn-info btn-sm'>Подать обьявление</Link>\r\n                       </span> :null}\r\n                    {localStorage.authToken? null:  <Link to=\"/registration\" className='profile_link btn btn-info btn-sm'>Зарегистрироваться</Link>}\r\n                    {localStorage.authToken? <Link to={'/'} className='btn btn-info btn-sm' onClick={()=>{logout()}}>Exit</Link>:null}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\n\r\nexport default connect((s) => ({data: d`${s}authReducer.data.sub`}),{logout:logoutAction})(Header)\r\n\r\n\r\n","import React from 'react';\r\nimport './footer.scss';\r\n\r\n\r\nconst Footer = ()=>{\r\n    return(\r\n        <div className='footer'>\r\n            <div className='wrapper'>\r\n                <span className='copyrights'>This website was created by ... <span>&copy; 2020</span></span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Footer","import React, {useState, useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {getGQL} from \"../../functions/functions\";\r\nimport {store,authAction,logoutAction,pendingAction,fullfilledAction,rejectedAction} from \"../../store/store\";\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst LoginForm = ({onLogin, onLogout}) => {\r\n    const [name, setName] = useState('');\r\n    const [surName, setSurname] = useState('');\r\n    const [buttonState, setButtonState] = useState(false)\r\n    const regNumber = /[0-9]/\r\n    useEffect(() => {\r\n        if (name !== '') {\r\n            setName(name.split('')[0].toUpperCase() + name.slice(1))\r\n        }\r\n        if (name.length < 2 || surName.length < 3) {\r\n            setButtonState(true)\r\n        } else {\r\n            setButtonState(false)\r\n        }\r\n        if (name.search(regNumber) !== -1 || surName.search(regNumber) !== -1) {\r\n            setButtonState(true)\r\n        }\r\n    }, [name, surName, regNumber])\r\n\r\n    return (\r\n        <div className='registrationFormHolder'>\r\n            <h1>Войдите в свой аккаунт</h1>\r\n            <div className=\"input-group input-row-holder\">\r\n                <span className=\"input-group-addon input-label\">Введите Ваш логин:</span>\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Ваш логин здесь\"\r\n                       aria-describedby=\"basic-addon1\" value={name}\r\n                       onChange={(e) => setName(e.target.value)}/>\r\n            </div>\r\n\r\n            <div className=\"input-group input-row-holder\">\r\n                <span className=\"input-group-addon input-label\">Введите Ваш пароль:</span>\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Ваш пароль здесь\"\r\n                       aria-describedby=\"basic-addon2\" value={surName}\r\n                       onChange={(e) => setSurname(e.target.value)}/>\r\n\r\n            </div>\r\n\r\n            <button type=\"button\" className=\"btn btn-info button\" onClick={async ()=>{\r\n                  await  onLogin(name, surName)}}\r\n               disabled={buttonState}>Войти</button>\r\n\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst LoginPage = ({cn,authAction,logoutAction}) => {\r\n    const login = async (l, p) => {\r\n        try {\r\n            // pendingAction()\r\n            let loginData = await getGQL('http://marketplace.asmer.fs.a-level.com.ua/graphql')\r\n            (`query auth {\r\n            login(login: \"${l}\", password: \"${p}\")\r\n            }`)\r\n            const token = loginData.login\r\n            await authAction(token)\r\n            // fullfilledAction(loginData)\r\n            console.log(store.getState())\r\n        }\r\n        catch (e) {\r\n            // rejectedAction(e)\r\n            console.log(store.getState())\r\n        }\r\n    }\r\n    const logout = ()=>{\r\n        logoutAction()\r\n        console.log(store.getState())\r\n        console.log(localStorage)\r\n\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <LoginForm onLogin={(l, p) => login(l, p)} onLogout={logout}></LoginForm>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (s) => {\r\n    if (s.authReducer.data) {\r\n        return {cn: s.authReducer.data.sub.login}\r\n    } else {\r\n        return {cn: 'Anon'}\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    authAction,\r\n    logoutAction,\r\n    pendingAction,\r\n    fullfilledAction,\r\n    rejectedAction,\r\n\r\n}\r\n\r\nconst CLoginPage =  connect(mapStateToProps,mapDispatchToProps)(LoginPage)\r\n\r\nexport default CLoginPage","import React from 'react';\r\nimport Header from \"../../components/header/header\";\r\nimport Footer from \"../../components/footer/footer\";\r\nimport CLoginPage from \"../../components/LoginForm/LoginForm\"\r\n\r\n\r\nconst LoginPage = ()=> {\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <div className='main_content_wrapper'>\r\n                <div className='wrapper'>\r\n                    <CLoginPage/>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default LoginPage","import React from 'react';\r\nimport './Preloader.scss'\r\n\r\nconst Preloader = ()=>{\r\n    return(\r\n        <div id=\"cube-loader\">\r\n            <div className=\"caption\">\r\n                <div className=\"cube-loader\">\r\n                    <div className=\"cube loader-1\"></div>\r\n                    <div className=\"cube loader-2\"></div>\r\n                    <div className=\"cube loader-4\"></div>\r\n                    <div className=\"cube loader-3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader","import React, {useEffect} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {ActionAllAd} from \"../../store/store\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport {d} from '../../functions/functions'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\n\r\nconst Ad = ({data}) =>{\r\n    const issued = new Date(+data.createdAt).toLocaleDateString()\r\n    return(\r\n        <li href='#' className='list-group-item single_ad'>\r\n            <Link to={'/singleAd/' + data._id}>\r\n                <div>\r\n                     <h3>{data.title}</h3>\r\n                    <div className='ad_image_holder'>\r\n                        {data.images&&data.images[0]?\r\n                            <img src={`http://marketplace.asmer.fs.a-level.com.ua/${data.images[0].url}`} alt=\"\"/>:\r\n                            <img src=\"http://placehold.it/200x200\"  alt=\"\"/>}\r\n                    </div>\r\n                    <div className='ad_bottom_row'>\r\n                        <span>Цена: {data.price} грн.</span>\r\n                        <span> Создано: {issued}</span>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </li>\r\n    );\r\n}\r\n\r\n\r\nconst AllAd = ({data, getData}) => {\r\n    useEffect(()=>{\r\n        async function fetchData() {\r\n            await getData()\r\n        }\r\n        fetchData()\r\n    },[])\r\n    console.log(data)\r\n\r\n\r\n    if(typeof data === 'undefined'){\r\n        return(\r\n            <Preloader />\r\n        )\r\n    }\r\n    else {\r\n        if( data.status === 'pending'){\r\n            return (\r\n                <Preloader />\r\n            )\r\n        }\r\n        if(data.status === 'rejected'){\r\n            return (\r\n                <div>something went wrong</div>\r\n            )\r\n        }\r\n        if(data.status === 'fulfilled'){\r\n            console.log(data)\r\n            return (\r\n\r\n                <ul className='list-group'>\r\n                    {data.payload.AdFind.map((ad) => <Ad data={ad} key={ad._id} >{ad.title}</Ad>)}\r\n                </ul>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst CAllAd = connect((s)=>({data: d`${s}promiseReducer.allAd`} ), {getData:ActionAllAd})(AllAd)\r\n\r\nexport default CAllAd","import React from 'react';\r\nimport Header from \"../../components/header/header\";\r\nimport Footer from \"../../components/footer/footer\";\r\nimport CAllAd from \"../../components/AllAds/AllAds\";\r\nimport './AllAdsPage.scss'\r\n\r\n\r\n\r\nconst AllAdsPage = ()=> {\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <div className='main_content_wrapper'>\r\n                <div className='wrapper'>\r\n                    <CAllAd />\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default AllAdsPage","import React, {useState} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport './OneAd.scss'\r\nimport {Link} from \"react-router-dom\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nconst Comment = ({data})=>{\r\n    console.log(data)\r\n    return(\r\n        <li className={'list-group-item d-flex'} style={{position:'relative'}}>\r\n            <div className='login_holder' style={{minWidth:'70px',marginRight:'25px'}}>\r\n                {data.owner.nick? <span className='user_nick'>{data.owner.nick}:</span>:<span className='user_login'>{data.owner.login}:</span>}\r\n            </div>\r\n            <div\r\n                className='comment_text_holder' style={{flexGrow:'1'}}>{data.text}\r\n            </div>\r\n            <div className='answerTo_holder'>\r\n                <ul>\r\n                    {data.answers? data.answers.\r\n                    map((answer)=><li className='answerTo_holder list-group-item' style={{backgroundColor:\"#ccc\"}}>\r\n                        <div className='d-flex'>\r\n                            <div>{answer.owner.login} ответил:</div>\r\n                            <div>{answer.text}</div>\r\n                            {/*<div>{new Date(+answer.createdAt).toLocaleDateString()}</div>*/}\r\n                        </div>\r\n                    </li>): null}\r\n                </ul>\r\n            </div>\r\n            <div>\r\n                {new Date(+data.createdAt).toLocaleDateString()}\r\n            </div>\r\n\r\n        </li>\r\n    );\r\n}\r\n\r\nconst OneAd = ({data})=>{\r\n    const [btnState, setBtnState] = useState(false)\r\n\r\n    if(typeof data === 'undefined'){\r\n        return null\r\n    }\r\n\r\n    else {\r\n        if(data.status === 'pending'){\r\n\r\n            return (\r\n                <Preloader />\r\n            )\r\n        }\r\n        if(data.status === 'rejected'){\r\n            return (\r\n                <div className='wrapper'>something went wrong</div>\r\n            )\r\n        }\r\n        if(data.status === 'fulfilled'){\r\n            const issued = new Date(+data.payload.AdFindOne.createdAt).toLocaleDateString()\r\n            const ownerissued = new Date(+data.payload.AdFindOne.owner.createdAt).toLocaleDateString()\r\n            return (\r\n                <div className='wrapper oneAd'>\r\n                   <h1>{data.payload.AdFindOne.title}</h1>\r\n                    <div className='oneAd_image_holder'>\r\n                        {data.payload.AdFindOne.images ?\r\n                            data.payload.AdFindOne.images.\r\n                            map((pic)=> <div key={pic._id} className='add_image_holder'><img src={`http://marketplace.asmer.fs.a-level.com.ua/${pic.url}`} alt=\"\"/></div>)\r\n                            : null}\r\n\r\n                    </div>\r\n                    <div className='d-flex justify-content-between'>\r\n                        <span className='price'>Цена: {data.payload.AdFindOne.price} грн.</span>\r\n                        <span className='issued'>Добавлено: {issued}</span>\r\n                    </div>\r\n\r\n                    <h3>Описание:</h3>\r\n                    <p className='description'>{data.payload.AdFindOne.description}</p>\r\n                    <div className='owner_info'>\r\n                        <Link to={'/singleUser/'+data.payload.AdFindOne.owner._id} className='d-block' style={{fontSize:'18px',fontWeight:'700'}}>Контактное лицо: {data.payload.AdFindOne.owner.login}</Link>\r\n                        <span className='d-block'>Пользуется сайтом с {ownerissued}</span>\r\n                        <span className='d-block'>{data.payload.AdFindOne.owner.adresses}</span>\r\n                        <a href={`tel:${data.payload.AdFindOne.owner.phones}`} className='d-block'></a>\r\n\r\n                    </div>\r\n                    {data.payload.AdFindOne.comments ?\r\n                        <div className='comments_holder'>\r\n                            <button className='btn btn-success' style={{margin:'10px'}} onClick={()=>{\r\n                                setBtnState(!btnState)\r\n                            }}>Посмотреть комментарии</button>\r\n                            <div className={btnState? 'comments_visible': 'comments_hide'}>\r\n                                <div className='comment_owner'>\r\n                                    <ul>\r\n                                        {data.payload.AdFindOne.comments.map((comment)=> comment.answerTo? null: <Comment data={comment} key={comment._id} />\r\n                                        )}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>: null}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect((s)=> ({data:s.promiseReducer.oneAd}))(OneAd)","import React, {useEffect} from 'react';\r\nimport Header from \"../../components/header/header\";\r\nimport Footer from \"../../components/footer/footer\";\r\nimport OneAd from '../../components/OneAd/OneAd'\r\nimport {connect} from \"react-redux\";\r\nimport {actionGetOneAd} from \"../../store/store\";\r\n\r\n\r\n\r\nconst OneAdPage = ({data,match: {params: {id}}, getOneAd})=> {\r\n    console.log(id, data)\r\n    useEffect(()=>{\r\n        async function fetchData() {\r\n            await getOneAd(id)\r\n        }\r\n        fetchData()\r\n    },[id])\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <div className='main_content_wrapper'>\r\n                <div className='wrapper'>\r\n                    <OneAd/>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport  default connect(null, {getOneAd:actionGetOneAd})(OneAdPage)\r\n","import React,{useRef} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {d} from \"../../../functions/functions\";\r\nimport {actionUpload} from \"../../../store/store\";\r\n\r\nconst Uploader = ({onUpload})=>{\r\n    const formRef = useRef()\r\n    return(\r\n        <form action=\"/upload\" method=\"post\" encType=\"multipart/form-data\" id='form' ref={formRef}>\r\n            <input type=\"file\" name=\"photo\" id='photo' onChange={()=>onUpload(formRef.current)}/>\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect((s)=>({data: d`${s}promiseReducer.upload`}),{onUpload:actionUpload})(Uploader)","import React, {useState} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport Uploader from \"../AdCreator/Uploader/Upload\";\r\nimport './User.scss'\r\nimport {actionChangeUserInfo} from \"../../store/store\";\r\n\r\n\r\nconst User = ({data,dataId, changeUserInfo, avatarData}) => {\r\n    const [nick, setNick] = useState('')\r\n    const [phone, setPhone] = useState('')\r\n    const [address, setAddress] = useState('')\r\n    if (typeof data === 'undefined') {\r\n        return (\r\n            null\r\n        )\r\n    } else {\r\n        if (data.status === 'pending') {\r\n            return (\r\n                <Preloader/>\r\n            )\r\n        }\r\n        if (data.status === 'rejected') {\r\n            return (\r\n                <div className='wrapper'>something went wrong</div>\r\n            )\r\n        }\r\n        if (data.status === 'fulfilled') {\r\n            const phones = phone\r\n            const addresses = address\r\n            const issued = new Date(+data.payload.UserFindOne.createdAt).toLocaleDateString()\r\n            return (\r\n                <div className='user_holder'>\r\n\r\n                    <div className='user'>\r\n                        <div className='avatar_holder'>\r\n                            {data.payload.UserFindOne.avatar && data.payload.UserFindOne.avatar.url ?\r\n                                <img\r\n                                    src={`http://marketplace.asmer.fs.a-level.com.ua/${data.payload.UserFindOne.avatar.url}`}\r\n                                    alt=\"\"/> :\r\n                                <img src=\"http://placehold.it/200x200\" alt=\"\"/>}\r\n                        </div>\r\n                        <div className='userInfo_holder'>\r\n                            <p className='login'>Логин: {data.payload.UserFindOne.login}</p>\r\n                            <div className='login_holder'>\r\n                                <span\r\n                                    className='login'>Никнейм: {data.payload.UserFindOne.nick ? data.payload.UserFindOne.nick : data.payload.UserFindOne.login}</span>\r\n                            </div>\r\n                            <div className='issuedDate'>\r\n                                <span className='login'>Пользуется сайтом с: {issued}</span>\r\n                            </div>\r\n                            {data.payload.UserFindOne.phones ? <div className='phonees_holder'>\r\n                                <span>Контактные телефон: {data.payload.UserFindOne.phones}</span>\r\n                            </div> : null}\r\n                            {data.payload.UserFindOne.addresses ? <div className='address_holder'>\r\n                                <span>Адрес: {data.payload.UserFindOne.addresses}</span>\r\n                            </div> : null}\r\n                        </div>\r\n                    </div>\r\n                    {dataId === data.payload.UserFindOne._id? <div className='user_changer'>\r\n                        <h2>Заполните информацию о себе:</h2>\r\n                        <div className='input_nick_holder'>\r\n                            <span>Никнейм:</span>\r\n                            <label>\r\n                                <input type=\"text\" onChange={(e)=>setNick(e.target.value)}/>\r\n                            </label>\r\n                        </div>\r\n                        <div className='input_phones_holder'>\r\n                            <span>Телефон :</span>\r\n                            <label>\r\n                                <input type=\"text\"  onChange={(e)=>setPhone(e.target.value)}/>\r\n                            </label>\r\n                        </div>\r\n                        <div className='input_addresses_holder'>\r\n                            <span>Адрес:</span>\r\n                            <label>\r\n                                <input type=\"text\" onChange={(e)=>setAddress(e.target.value)}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <p>Загрузите Ваше фото:</p>\r\n                            <div className='uploader_holder'>\r\n                                <Uploader />\r\n                            </div>\r\n                        </div>\r\n                        <button className='btn btn-success' onClick={()=>changeUserInfo(data.payload.UserFindOne._id,nick,phones,addresses,{_id:avatarData.payload._id})}>Изменить</button>\r\n                    </div>: null}\r\n\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect((s) => ({\r\n    data: s.promiseReducer.User,\r\n    avatarData: s.promiseReducer.upload,\r\n    dataId: s.authReducer.data.sub.id\r\n}), {changeUserInfo: actionChangeUserInfo})(User)","import React,{useState} from 'react'\r\nimport './AdCreaator.scss'\r\nimport {connect} from \"react-redux\";\r\nimport {actionCreateAd} from '../../store/store'\r\nimport Uploader from \"./Uploader/Upload\";\r\n\r\nconst AdCreator = ({createAd,imageData})=>{\r\n    const [title,setTitle] = useState('')\r\n    const [description,setDescription] = useState('')\r\n    const [price,setPrice] = useState('')\r\n    const [address,setAddress] = useState('')\r\n    imageData && imageData.payload ? console.log(imageData.payload._id):console.log('fff')\r\n    let pics = []\r\n    imageData && imageData.payload ? pics.push({_id:imageData.payload._id}):console.log('hgldshg')\r\n    console.log(pics)\r\n    return(\r\n        <div className='ad_creator_holder'>\r\n            <h2>Заполните следующие поля:</h2>\r\n            <div className='input_title_holder'>\r\n                <span>Заголовок обьявления:</span>\r\n                <label>\r\n                    <input type=\"text\" onChange={(e)=>setTitle(e.target.value)}/>\r\n                </label>\r\n            </div>\r\n            <div className='input_description_holder'>\r\n                <span>Описание:</span>\r\n                <label>\r\n                    <textarea type=\"text\" maxLength={500} onChange={(e)=>setDescription(e.target.value)}/>\r\n                </label>\r\n            </div>\r\n            <div className='input_price_holder'>\r\n                <span>Цена:</span>\r\n                <label>\r\n                    <input type=\"text\" onChange={(e)=>setPrice(e.target.value)}/>\r\n                </label>\r\n            </div>\r\n            <div className='input_addresses_holder'>\r\n                <span>Адрес:</span>\r\n                <label>\r\n                    <input type=\"text\" onChange={(e)=>setAddress(e.target.value)}/>\r\n                </label>\r\n            </div>\r\n            <div className='uploader_holder'>\r\n                <Uploader />\r\n            </div>\r\n            <button className='btn btn-success' onClick={()=>createAd(title,description,+price,address,[{_id: imageData.payload._id}] )}>Разместить обьявление</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect((s)=>({imageData: s.promiseReducer.upload}),{createAd: actionCreateAd})(AdCreator)","import React,{useEffect} from 'react';\r\nimport Header from \"../../components/header/header\";\r\nimport Footer from \"../../components/footer/footer\";\r\nimport User from \"../../components/User/User\";\r\nimport {connect} from \"react-redux\";\r\nimport {actionGetUser} from \"../../store/store\";\r\nimport {d} from \"../../functions/functions\";\r\nimport AdCreator from \"../../components/AdCreator/AdCreator\";\r\nimport Uploader from \"../../components/AdCreator/Uploader/Upload\";\r\n\r\n\r\nconst UserPage = ({getUser, match: {params: {id}},userId})=> {\r\n    useEffect(()=>{\r\n        async function fetchData() {\r\n            await getUser(id)\r\n        }\r\n        fetchData()\r\n    },[id])\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <div className='main_content_wrapper'>\r\n                <div className='wrapper'>\r\n                    <User />\r\n                    {id===userId? <AdCreator />: null}\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default connect((s)=>({userId: d`${s}authReducer.data.sub.id`}),{getUser:actionGetUser})(UserPage)","import React from 'react';\r\nimport './Main.scss'\r\n\r\nconst Main = ()=> <div className='main_content_wrapper'></div>\r\n\r\nexport default Main","import React from 'react';\r\nimport Header from \"../../components/header/header\";\r\nimport Main from \"../../components/Main/Main\";\r\nimport Footer from \"../../components/footer/footer\";\r\n\r\n\r\nconst MainPage =()=> {\r\n    return(\r\n        <React.Fragment>\r\n            <Header/>\r\n            <Main />\r\n            <Footer />\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default MainPage\r\n","import React,{useState, useEffect} from 'react';\r\nimport  './RegistrationForm.scss'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nconst RegistrationForm = ({onRegister})=>{\r\n    const[name, setName] = useState('');\r\n    const [surName, setSurname] = useState('');\r\n    const [buttonState, setButtonState] = useState(false)\r\n    const regNumber = /[0-9]/\r\n    useEffect(()=>{\r\n        if (name !== ''){\r\n            setName(name.split('')[0].toUpperCase()+name.slice(1).toLowerCase())\r\n        }\r\n        if(name.length<2 || surName.length<3 ){\r\n            setButtonState(true)\r\n        }\r\n        else {\r\n            setButtonState(false)\r\n        }\r\n        if( name.search(regNumber)!== -1 || surName.search(regNumber)!== -1){\r\n            setButtonState(true)\r\n        }\r\n    },[name, surName,  regNumber])\r\n\r\n    return(\r\n        <div className='registrationFormHolder'>\r\n            <h1>Регистрация</h1>\r\n            <div className=\"input-group input-row-holder\" >\r\n                <span className=\"input-group-addon input-label\">Введите Ваш логин:</span>\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Ваш логин здесь\" aria-describedby=\"basic-addon1\" value={name}\r\n                onChange={(e)=>setName(e.target.value)}/>\r\n            </div>\r\n\r\n            <div className=\"input-group input-row-holder\">\r\n                <span className=\"input-group-addon input-label\">Введите Ваш пароль:</span>\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Ваш пароль здесь\" aria-describedby=\"basic-addon2\" value={surName}\r\n                       onChange={(e)=>setSurname(e.target.value)}/>\r\n\r\n            </div>\r\n\r\n            <Link to={'/login'} type=\"button\" className=\"btn btn-info button\" onClick={()=>onRegister(name,surName)}\r\n                    disabled = {buttonState}>Зарегистрироваться</Link>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default RegistrationForm","import React  from 'react';\r\nimport './RegistrationPage.scss';\r\nimport Header from \"../../components/header/header\";\r\nimport Footer from \"../../components/footer/footer\";\r\nimport RegistrationForm from \"../../components/RegistrationForm/RegistrationForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {registrationAction} from '../../store/store'\r\nimport {getGQL} from \"../../functions/functions\";\r\n\r\n\r\nconst RegistrationPage = ({dataReg,reg})=>{\r\n    const registration = async (l,p)=>{\r\n        let registrationData = await getGQL('http://marketplace.asmer.fs.a-level.com.ua/graphql')\r\n        (`mutation reg{\r\n            createUser(login:\"${l}\",password:\"${p}\"){_id}\r\n            }\r\n            `)\r\n\r\n    }\r\n    return(\r\n        <React.Fragment>\r\n            <Header />\r\n            <div className='main_content_wrapper'>\r\n                <div className='wrapper'>\r\n                    <RegistrationForm onRegister={(login,password)=>registration(login,password)}/>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default connect((s)=>({dataReg: s.promiseReducer.registration}),{reg:registrationAction})(RegistrationPage)","import React from 'react';\nimport { HashRouter, Route,Switch} from \"react-router-dom\";\nimport createHistory from \"history/createBrowserHistory\";\nimport {Provider} from 'react-redux';\nimport {store} from './store/store'\nimport './App.scss';\nimport LoginPage from \"./pages/LoginPage/LoginPage\";\nimport AllAdsPage from \"./pages/AllAdsPage/AllAdsPage\";\nimport OneAdPage from \"./pages/OneAdPage/OneAdPage\";\nimport UserPage from \"./pages/UserPage/UserPage\"\nimport MainPage from \"./pages/MainPage/MainPage\";\nimport RegistrationPage from './pages/RegistrationPage/RegistrationPage'\n\n\n\n\nfunction App() {\n    // store.subscribe(() => console.log(store.getState()))\n  return (\n    <HashRouter>\n        <div className=\"App\">\n            <Switch>\n                <Route path={'/'} component={MainPage} exact />\n                <Route path={'/login'} component={LoginPage} />\n                <Route path={'/registration'} component={RegistrationPage}/>\n                <Route path={'/allads'} component = {AllAdsPage} exact/>\n                <Route path={'/singleAd/:id'} component = {OneAdPage}/>\n                <Route path = {'/singleUser/:id'} component = {UserPage}></Route>\n                <Route >fdsgsh</Route>\n            </Switch>\n        </div>\n    </HashRouter>\n  );\n}\n\nexport default () => <Provider store={store}>\n    <App/>\n    < /Provider>\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}